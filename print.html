<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Ronoco-documentation</title>
                <meta name="robots" content="noindex" />
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><li class="part-title">Ronoco</li><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">Users guides</li><li class="chapter-item expanded "><a href="user-guides/installation.html"><strong aria-hidden="true">2.</strong> Installation</a></li><li class="chapter-item expanded "><a href="user-guides/quick-start.html"><strong aria-hidden="true">3.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="user-guides/how-to-use-it.html"><strong aria-hidden="true">4.</strong> How to use it</a></li><li class="chapter-item expanded "><a href="user-guides/bt.html"><strong aria-hidden="true">5.</strong> How to create a behaviour tree</a></li><li class="chapter-item expanded "><a href="user-guides/poppy.html"><strong aria-hidden="true">6.</strong> Examples on robots</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="user-guides/poppy.html"><strong aria-hidden="true">6.1.</strong> Poppy ergo jr</a></li><li class="chapter-item expanded "><a href="user-guides/ur3.html"><strong aria-hidden="true">6.2.</strong> Universal Robots 3</a></li><li class="chapter-item expanded "><a href="user-guides/kuka.html"><strong aria-hidden="true">6.3.</strong> Kuka KR6</a></li><li class="chapter-item expanded "><a href="user-guides/own.html"><strong aria-hidden="true">6.4.</strong> Add your own robot</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Ronoco API Documentation</li><li class="chapter-item expanded "><a href="documentation/api-short.html"><strong aria-hidden="true">7.</strong> API - summarize</a></li><li class="chapter-item expanded "><a href="documentation/api-detailed.html"><strong aria-hidden="true">8.</strong> API - detailed</a></li><li class="chapter-item expanded "><a href="documentation/behavior.html"><strong aria-hidden="true">9.</strong> Behaviours</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu (default)</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Ronoco-documentation</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <div style="break-before: page; page-break-before: always;"></div><h1 id="img-srclogosvg-width5-ronoco"><a class="header" href="#img-srclogosvg-width5-ronoco"><img src="logo.svg" width="5%"/> Ronoco</a></h1>
<p>With <strong>ROS</strong>, creating a robotic system means developing programs in <strong>C++</strong> or <strong>Python</strong>, making ROS <strong>inaccessible</strong> to all non-developer experts: process engineers, industrialization engineers...</p>
<p>Writing code is indeed becoming essential for complex robots.</p>
<p>However, for several years now, an alternative method has been making headway: <strong>no-code</strong>. This consists of designing computer programs without writing code, often via a graphic interface. This project consists of developing a <strong>prototype of a &quot;no-code ROS&quot;</strong> that can be used to program <strong>manipulative</strong> robots under <strong>MoveIt</strong> and <strong>rolling robots</strong>.</p>
<p>Ronoco connects to the ROS ecosystem and generates standard ROS messages, maintaining the interoperable ROS (<strong>robot-agnostic</strong>) DNA.</p>
<p>The ronoco project is divide into three distinct modules, each fulfilling different and complementary roles to provide a graphical interface for designing ROS manipulation programs.</p>
<p>The three modules are <strong>ronoco-vm</strong> a ROS package consisting of a flask API that interprets the sequence of blocks in the GUI and translates them into ROS code. The second is <strong>ronoco-nodered</strong>, an extension to the <a href="https://nodered.org/">Node-RED</a> application that allows you to graphically create action sequences using behaviour trees</p>
<p>The last one is <strong>ronoco-ui</strong> a web client allowing to use the two previous modules. It provides utilities for the robot (registering positions, launching a program, stopping the server etc). Moreover, it allows defining programs using a no-code interface like NodeRed or Scratch (WIP)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<p>The installation is divide into two parts. First it is necessary to install ROS Noetic and then to install the different modules of ronoco. An installation guide for ROS noetic for Ubuntu is provided below. Refer to <a href="http://wiki.ros.org/noetic/Installation">the official page</a> for more details</p>
<h2 id="ubuntu-install-of-ros-noetic"><a class="header" href="#ubuntu-install-of-ros-noetic">Ubuntu install of ROS Noetic</a></h2>
<p>Configure your Ubuntu to allow &quot;restricted&quot;, &quot;universe&quot; and &quot;multiverse&quot;. You can
<a href="https://help.ubuntu.com/community/Repositories/Ubuntu">follow the Ubuntu guide</a> for instructions on doing this.</p>
<p>Set up your computer to accept software from packages.ros.org</p>
<pre><code class="language-bash">sudo sh -c 'echo &quot;deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main&quot; \
&gt; /etc/apt/sources.list.d/ros-latest.list'
</code></pre>
<p>Set up your keys</p>
<pre><code class="language-bash">sudo apt install curl # if you haven't already installed curl
curl -s https://raw.githubusercontent.com/ros/rosdistro/master/ros.asc | \ 
sudo apt-key add -
</code></pre>
<p>First, make sur your Debian package index is up-to-date then install ROS</p>
<pre><code class="language-bash">sudo apt update
sudo apt install ros-noetic-desktop-full
</code></pre>
<p>You must source this script in every <strong>bash</strong> terminal you use ROS in</p>
<pre><code class="language-bash">source /opt/ros/noetic/setup.bash
</code></pre>
<p>It can be convenient to automatically source this script every time a new shell is launched. These commands will do that
for you</p>
<pre><code class="language-bash">echo &quot;source /opt/ros/noetic/setup.bash&quot; &gt;&gt; ~/.bashrc
source $HOME/.bashrc

#or if you use zsh
echo &quot;source /opt/ros/noetic/setup.zsh&quot; &gt;&gt; ~/.zshrc
source $HOME/.zshrc
</code></pre>
<h2 id="ronoco"><a class="header" href="#ronoco">Ronoco</a></h2>
<p>To install ronoco you need the following packages:</p>
<ul>
<li>npm</li>
<li>python3</li>
<li>ROS noetic (also works on ROS melodic)</li>
</ul>
<p>To start it is necessary to clone the project in the catkin workspace</p>
<pre><code class="language-bash">#if you haven't got a catkin_ws
mkdir -p $HOME/catkin_ws/src
cd $HOME/catkin_ws/
catkin_make

cd $HOME/catkin_ws/src/
git clone https://github.com/Sdelpeuch/ronoco.git
</code></pre>
<p>Then you have to install the three modules that constitute ronoco. Firstly <em>ronoco-nodered</em> allowing the user to define the behaviour trees of the robot (see How to use it and How to create a behaviour tree). This module depends on Node-RED, so it is necessary to install the framework and then the blocks specific to ronoco.</p>
<pre><code class="language-bash">sudo npm install -g --unsafe-perm node-red
mkdir $HOME/.node-red/
cd $HOME/.node-red/
npm install $HOME/catkin_ws/src/ronoco/ronoco-nodered/
</code></pre>
<p>Once <em>ronoco-nodered</em> is installed it is necessary to install the web client inside <em>ronoco-ui</em></p>
<pre><code class="language-bash">cd $HOME/catkin_ws/src/ronoco/ronoco-ui/
npm install
</code></pre>
<p>Finally, all that remains is to install the application engine found in <em>ronoco-vm</em>.</p>
<pre><code class="language-bash">cd $HOME/catkin_ws/src/ronoco/ronoco-vm/
pip3 install -r requirements.txt
</code></pre>
<p>It is necessary to download a socketio client in the static folder of the API</p>
<pre><code class="language-bash">cd $HOME/catkin_ws/src/ronoco/ronoco-vm/ronoco_vm/static/
mkdir socket.io
wget https://github.com/socketio/socket.io/blob/master/client-dist/socket.io.js
wget https://github.com/socketio/socket.io/blob/master/client-dist/socket.io.js.map
</code></pre>
<p>Before using ronoco it is necessary to compile the ROS workspace</p>
<pre><code class="language-bash">cd $HOME/catkin_ws/
catkin_make
source devel/setup.bash

#or if you use zsh
source devel/setup.zsh
</code></pre>
<p>To start ronoco refer to the <a href="user-guides/quick-start.html">Getting Started</a> page</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting started</a></h1>
<h2 id="quick-start--roslaunch"><a class="header" href="#quick-start--roslaunch">Quick-start : roslaunch</a></h2>
<p>To launch the project, simply run the following command:</p>
<pre><code class="language-bash">roslaunch ronoco ronoco.launch commander:=string compliant_mode:=string
</code></pre>
<p>With as argument :</p>
<ul>
<li><em>commander</em>: the name of the move_group in MoveIt</li>
<li><em>compliant_mode</em>: <em>manual</em> if the robot can go into compliant mode manually, <em>None</em> if the robot cannot go into compliant mode, or <em>the name of the service</em> to put it in and out of compliant mode.</li>
</ul>
<h2 id="manual-start"><a class="header" href="#manual-start">Manual start</a></h2>
<p>To use ronoco it is necessary to launch the ROS modules corresponding to your robot and then the different modules of ronoco.</p>
<p>Regarding the launching of ROS modules the procedure is different for each robot, to make ronoco work it is necessary to have a roscore and Moveit running. See the different examples on <a href="user-guides/poppy.html">Poppy Ergo Jr</a> or <a href="user-guides/ur3.html">Universal Robots 3</a> for more details.</p>
<p>It is then necessary to launch the three modules.</p>
<pre><code class="language-bash"># Launching of nodered in a terminal
node-red
</code></pre>
<pre><code class="language-bash"># Launching of ronoco-vm in another terminal
cd $HOME/catkin_ws/src/ronoco/ronoco-vm/
python3 ronoco_vm/run.py
</code></pre>
<pre><code class="language-bash"># Launching of ronoco-ui in another terminal
cd $HOME/catkin_ws/src/ronoco/ronoco-ui/
npm start
</code></pre>
<p>Once all the modules are running go to your <a href="http://localhost:8080/">localhost:8080</a> and you will arrive at the ronoco page:</p>
<p><img src="user-guides/../static/ronoco.png" alt="ronoco" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-use-it"><a class="header" href="#how-to-use-it">How to use it</a></h1>
<p>This page explains how to use the application to control a robot. It is divided in 3 parts, the first one explains how to use the different buttons of the control interface. The second part explains how to create behaviour trees and the specificities of the different blocks.</p>
<h2 id="control-interface"><a class="header" href="#control-interface">Control Interface</a></h2>
<center>
<img src="user-guides/../static/boutons-ui.png" width="40%" ></img>
<p>Control Interface</p>
</center>
<p><img src="user-guides/../static/shutdown.svg" width="5%"></img> Allows to stop the server (WIP: allows to start and stop the whole application)</p>
<p><img src="user-guides/../static/circle.svg" width="5%"></img> Represents the status of the server, when it is empty it means that the client has not yet received any information from the server. It is probably still loading.</p>
<p><img src="user-guides/../static/circle_red.svg" width="5%"></img> When it is red it means that at least one request to the server has not been answered and therefore the server is not running or is in error</p>
<p><img src="user-guides/../static/circle_orange.svg" width="5%"></img> When it is orange it means that ROS is not working as expected. The source of the problem is either the absence of roscore (the rosout/get_loggers service is not available) or the absence of moveit (the move_group/get_loggers service is not available). In this state ronoco is not usable</p>
<p><img src="user-guides/../static/circle_yellow.svg" width="5%"></img> When it is yellow it means that Rviz is not communicating the position of the interactive marker. If rviz seems to be working correctly on your machine, simply move the interactive marker to fix the problem. In this state ronoco is usable but the &quot;simulated&quot; button will produce an error</p>
<p><img src="user-guides/../static/circle_green.svg" width="5%"></img> When it is green it means that ronoco is fully usable</p>
<p><img src="user-guides/../static/play.svg" width="5%"></img> This button asks the server to execute the last behaviour tree deployed from Node-RED</p>
<p><img src="user-guides/../static/free.svg" width="5%"></img> Enables the robot to be set to compliant mode. This button can only be used for a robot that has a service to set it to compliant mode (see <a href="user-guides/../user-guides/own.html">add your own robot</a> for more details).</p>
<p><img src="user-guides/../static/record.svg" width="5%"></img> This group of buttons allows you to record points in the environment. There are two recording modes either via the <em>simulated</em> button which records the position of the interactive marker. Or via the <em>real</em> button which records the actual position of the robot.</p>
<p><img src="user-guides/../static/get.svg" width="5%"></img> This group of buttons allows you to view the different registered positions. It is possible to consult a specific position by filling in the <em>id</em> field and then pressing <em>get</em> or to consult all the registered positions by using the <em>get all</em> button.</p>
<p><img src="user-guides/../static/trash.svg" width="5%"></img> This group of buttons allows you to delete the different registered positions. It is possible to delete a specific position by filling in the <em>id</em> field and then pressing <em>delete</em> or delete all registered positions by using the <em>clear all</em> button</p>
<h2 id="area-for-creating-behaviour-trees"><a class="header" href="#area-for-creating-behaviour-trees">Area for creating behaviour trees</a></h2>
<center>
<img src="user-guides/../static/areaBT.png" width="100%" ></img>
<p>Area for creating behaviour trees</p>
</center>
<p>The behaviour tree creation area is an instance of Node-RED it is necessary to have the Ronoco specific Node-RED palette installed to use the application. Refer to the <a href="user-guides/installation.html">installation page</a></p>
<p>⚠️ Ronoco is not compatible with the native Node-RED blocks, only the blocks of the ronoco-nodered palette are usable. You can make the native blocks disappear by clicking on the three horizontal bars at the top right, then Manage Palette and finally click on disable all for the node-red palette.</p>
<p>This section explains how to create a tree interpretable by ronoco-vm and run it. To learn how to create behaviour trees, refer to the <a href="user-guides/bt.html">associated page</a>. For the documentation of each block, you can access it directly from ronoco or from the behaviours documentation.</p>
<center>
<img src="user-guides/../static/doc.png" width="50%" ></img>
<p>Access to block documentation from Ronoco</p>
</center>
<p><img src="user-guides/../static/nodered/root.svg" width="5%" ></img> To create Ronoco interpretable trees any tree <strong>must start</strong> with a <em>root</em> block and <strong>must contain at least</strong> one <em>leaf</em> (blue coloured blocks), a tree not starting with a <em>root</em> block will simply be ignored.</p>
<p>The <em>root</em> and <em>decorators</em> blocks (green blocks) must be followed by a single child.</p>
<p>The <em>sequence</em>, <em>selector</em> and <em>parallel</em> blocks accept multiple children.</p>
<p>All blocks (except the <em>root</em> block) can be the child of multiple blocks.</p>
<p>The behaviour trees are read from left to right and from top to bottom. If two child blocks of the same block are placed at the same height, an error will be raised.</p>
<p>A worksheet can contain multiple trees identified by their <em>root</em> block. If this is the case, the trees will be executed according to the height of their <em>root</em> block on the sheet (from top to bottom)</p>
<p>To execute a behaviour tree with ronoco it is necessary to click on the <em>deploy</em> button at the top right of the window and then on the <em>play</em> <img src="user-guides/../static/play.svg" width="2%" ></img> button of the control interface.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-create-a-behaviour-tree"><a class="header" href="#how-to-create-a-behaviour-tree">How to create a behaviour tree</a></h1>
<p>This page is an introduction to the behaviour trees used in Ronoco to define programs. It is inspired by <a href="https://roboticseabass.com/2021/05/08/introduction-to-behavior-trees/">Robotic Sea Bass - Introduction to Behavior Trees</a>,
and the <a href="https://py-trees.readthedocs.io/en/devel/">documentation of py_trees</a></p>
<h2 id="what-is-a-behaviour-tree-"><a class="header" href="#what-is-a-behaviour-tree-">What is a Behaviour Tree ?</a></h2>
<p>There are several abstractions to help design complex behaviors for an autonomous agent. Generally, these consist of a finite set of entities that map to particular behaviors or operating modes within our system, e.g., “move forward”, “close gripper”, “blink the warning lights”, “go to the charging station”. Each model class has some set of rules that describe when an agent should execute each of these behaviors, and more importantly how the agent should switch between them.</p>
<p>Behavior trees (BTs) are one such abstraction, which I will define by the following characteristics:</p>
<ol>
<li><strong>Behavior Trees and trees</strong> : They start at a root node and are designed to be traversed in a specific order until a terminal state is reached</li>
<li><strong>Leaf nodes are executable behaviours</strong> : Each leaf will do <em>something</em>, whether it's a simple check or a complex action, and will output a status (success, failure or running). In other words, leaf nodes are where you connect a BT to the lower-level code for your specific application.</li>
<li><strong>Internal nodes control tree traversal</strong>: The internal nodes of the tree will accept the resulting status of their children and apply their own rules to dictate which node should be expanded next.</li>
</ol>
<h2 id="behaviour-tree-terminology"><a class="header" href="#behaviour-tree-terminology">Behaviour Tree Terminology</a></h2>
<p>Let's dig into the terminology in behaviour trees.</p>
<p>At a glance, these are the types of nodes that make up behaviour trees and how they are represented graphically</p>
<center>
<img src="user-guides/../static/terminology.png" width=100%></img>
</center>
<p>Behaviour trees execute in discrete update steps known as <strong>ticks</strong>. When a BT is ticked, usually at some specified rate, its child nodes recursively tick based on how the tree is constructed. After a node ticks, it returns a <strong>status</strong> to its parent, which can be <strong>Sucess</strong>, <strong>Failure</strong>, or <strong>Running</strong>.</p>
<p><strong>Execution nodes</strong>, which are leaves of the BT, can either be <strong>Action</strong> or <strong>Condition</strong> nodes. The only diffrence is that nodes can only return Success or Failure within a single tick, whereas action nodes can span multiple ticks and can return Running until they reach a terminal state. Generally, condition nodes represent simple checks (e.g., &quot;is the gripper open ?&quot;) while action nodes represent complex actions (e.g. &quot;open the door&quot;).</p>
<p><strong>Control nodes</strong> are internal nodes and define how to traverse the BT given the status of their children. Importantly children of control nodes can be execution nodes or control nodes themselves. <strong>Sequence</strong>, <strong>Selector</strong> and <strong>Parallel</strong> nodes can have any number of children, but differ in how they process said children. <strong>Decorator</strong> nodes necessarily have one child, and modify its behavior with some custom defined policy.</p>
<ul>
<li><strong>Sequence</strong> nodes execute children in order until one child returns Failure or all children returns Success</li>
<li><strong>Selector</strong> nodes execute children in order until one of them returns Success or all children return Failure.</li>
<li><strong>Parallel</strong> nodes will execute all their children in &quot;parallel&quot;. This is in quotes because it's not true parallelism, at each tick, each node will individually tick in order. Parallel nodes return Success when at least one child nodes have succeeded, and Failure when all child nodes have failed.</li>
<li><strong>Decorator</strong> nodes modify a single child node with a custom policy. For example &quot;inverter&quot; decorator will change Success to Failure and vice-versa. To see all available decorators refer to the <a href="user-guides/../documentation/nodered.html">Ronoco Node-RED documentation</a>.</li>
</ul>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<p>In Node-RED the behaviour trees are read from left to right and from top to bottom. In the first example, the &quot;root&quot; node is read first, then &quot;sequence&quot;, then &quot;plan&quot; and finally &quot;execute&quot;.</p>
<p>Let's start with a simple example, a sequence to plan a path to a point and then execute it. If the planning to the point succeeds then the execution will be done. However, if the planning fails, the sequence will be interrupted and the execution will not take place.</p>
<center>
<img src="user-guides/../static/example1.png" width=70%></img>
</center>
<p>In this more complete example we will want to go to the original position and then perform a Cartesian move to position 1 in less than 10 seconds otherwise go to position 2.</p>
<p>To do this we start with a sequence of two children. The first one asks to move to the home position, then if the execution is successful we introduce a two-child selector. The first one asks to perform a Cartesian move to position 1, it is accompanied by a timeout decorator set to 10 seconds. If the timeout is exceeded or the move is not feasible then this first child returns a failure. At this point the selector will execute its second child consisting of moving to position 2. If the first child returns a success the selector does not need to execute its second child and the execution of this tree ends.</p>
<center>
<img src="user-guides/../static/example2.png" width=100%></img>
</center>
<div style="break-before: page; page-break-before: always;"></div><h1 id="example-on-poppy-ergo-jr"><a class="header" href="#example-on-poppy-ergo-jr">Example on Poppy Ergo Jr</a></h1>
<p>This page presents a complete use of ronoco on a <a href="https://github.com/poppy-project/poppy-ergo-jr">poppy ergo jr</a> it uses the resources of <a href="https://learn.e.ros4.pro/fr/manipulation/ergo-jr/">learn.e.ros4.pro</a> concerning the Poppy Ergo Jr.</p>
<p>It is necessary to have a ROS installation, a ROS workspace and ronoco to follow this page. Refer to the <a href="user-guides/installation.html">installation guide</a> if necessary.</p>
<h2 id="prepare-poppy-ergo-jr"><a class="header" href="#prepare-poppy-ergo-jr">Prepare Poppy Ergo Jr</a></h2>
<p>Start by <a href="https://docs.poppy-project.org/fr/assembly-guides/ergo-jr/">assembling your robot</a>, following the steps for ROS if applicable, then <a href="https://docs.poppy-project.org/fr/assembly-guides/ergo-jr/motor-configuration.html#32ter-configurer-les-moteurs-un-par-un-si-vous-utilisez-une-image-ros">configure your motors</a></p>
<p>Download the <a href="https://github.com/poppy-project/poppy_controllers/releases/download/v1.0/poppy-ergo-jr-ros-melodic.img.zip">ROS image</a> to flash an SD card. To flash the image to an SD card:
+ Extract the compressed .zip or .7z file to a folder on the computer
+ Use the software <a href="https://www.balena.io/etcher/">etcher</a> (or equivalent)
+ In Etcher, &quot;Flash from file&quot;, select the image file and the destination (the SD card) and validate</p>
<p>To connect the robot in Wifi :
+ Insert the SD card of the robot in question in your workstation and open the partition named <em>boot</em> + Download the file <a href="user-guides/">wpa_supplicant.conf</a> in boot and modify it to fill in the right wifi password inside.
+ Download the file <a href="https://files.ros4.pro/wpa_supplicant.conf">wpa_supplicant.conf</a> in boot and modify it to fill in the right wifi password inside
+ Create an empty file named <em>.ssh</em> in the same place in the <em>boot</em>.
+ Type the command <em>sync</em> and cleanly assign the SD card</p>
<p>These 2 files <em>wpa_supplicant.conf</em> and <em>.ssh</em> will be deleted the next time the robot is started, indicating that the Wifi connection request has been accepted. It is therefore normal that you will not find them when you look at the boot content again after the first start of the robot.</p>
<p>In case of problems, it is possible to connect an HDMI display to the Raspberry Pi, the network manager is on the top right.</p>
<p>The Wi-Fi connection also works with Android and iOS mobile access points.</p>
<p>Make sure that the <code>ROS_MASTER_URI</code> on your workstation and on your poppy point to the same address. If not, modify and source your <code>.bashrc</code>.</p>
<p>The controller is already on the robot. You can connect directly to the robot and start it. If you have chosen to point the <code>ROS_MASTER_URI</code> at your workstation, do not forget to run a <code>roscore</code> before</p>
<pre><code class="language-bash">ssh pi@poppy.local
roslaunch poppy_controllers control.launch
</code></pre>
<h2 id="start-moveit-with-a-real-robot"><a class="header" href="#start-moveit-with-a-real-robot">Start MoveIt with a real robot</a></h2>
<p>Install MoveIt then clone the ROS package <strong>Poppy Ergo Jr MoveIt Configuration</strong>, it contains the code needed to make this robot work with MoveIt :</p>
<pre><code class="language-bash">sudo apt install ros-noetic-moveit
cd $HOME/catkin_ws/src
git clone https://github.com/poppy-project/poppy_ergo_jr_moveit_config.git
cd $HOME/catkin_ws/
catkin_make 
source $HOME/.bashrc
</code></pre>
<p>Start MoveIt with <code>roslaunch</code> with the <code>fake_execution</code> parameter set to <code>false</code> to connect to the real robot:</p>
<pre><code class="language-bash">roslaunch poppy_ergo_jr_moveit_config demo.launch fake_execution:=false gripper:=true
</code></pre>
<p>Rviz should start with a Poppy Ergo Jr in view corresponding to the state of your robot in real time.</p>
<p>⚠️ At this stage, make sure that the posture of your robot in RViz corresponds to the current posture of the real robot: the angles of the motors and the location of the rivets must correspond in every way to your real robot. It is frequent that robots are incorrectly assembled, in this case close MoveIt and go back to the <a href="https://docs.poppy-project.org/fr/assembly-guides/ergo-jr/">assembly guide</a> step by step to correct before continuing.</p>
<h2 id="start-ronoco"><a class="header" href="#start-ronoco">Start Ronoco</a></h2>
<p>To launch the project, simply run the following command:</p>
<pre><code class="language-bash">roslaunch ronoco ronoco.launch commander:=arm_and_finger compliant_mode:=/set_compliant
</code></pre>
<p>Once all the modules are running go to your <a href="http://localhost:8080/">localhost:8080</a> and you will arrive at the ronoco page:</p>
<p><img src="user-guides/../static/ronoco.png" alt="ronoco" /></p>
<h2 id="use-ronoco"><a class="header" href="#use-ronoco">Use Ronoco</a></h2>
<p>For a full understanding of this part it is preferable to have followed the tutorials <a href="user-guides/how-to-use-it.html">How to use it</a> and <a href="user-guides/bt.html">How to create a behaviour tree</a></p>
<p>The <a href="user-guides/../static/demo.mp4">gif</a> below shows a use of Ronoco</p>
<p><img src="user-guides/../static/demo.gif" alt="demo" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="example-on-poppy-ergo-jr-1"><a class="header" href="#example-on-poppy-ergo-jr-1">Example on Poppy Ergo Jr</a></h1>
<p>This page presents a complete use of ronoco on a <a href="https://github.com/poppy-project/poppy-ergo-jr">poppy ergo jr</a> it uses the resources of <a href="https://learn.e.ros4.pro/fr/manipulation/ergo-jr/">learn.e.ros4.pro</a> concerning the Poppy Ergo Jr.</p>
<p>It is necessary to have a ROS installation, a ROS workspace and ronoco to follow this page. Refer to the <a href="user-guides/installation.html">installation guide</a> if necessary.</p>
<h2 id="prepare-poppy-ergo-jr-1"><a class="header" href="#prepare-poppy-ergo-jr-1">Prepare Poppy Ergo Jr</a></h2>
<p>Start by <a href="https://docs.poppy-project.org/fr/assembly-guides/ergo-jr/">assembling your robot</a>, following the steps for ROS if applicable, then <a href="https://docs.poppy-project.org/fr/assembly-guides/ergo-jr/motor-configuration.html#32ter-configurer-les-moteurs-un-par-un-si-vous-utilisez-une-image-ros">configure your motors</a></p>
<p>Download the <a href="https://github.com/poppy-project/poppy_controllers/releases/download/v1.0/poppy-ergo-jr-ros-melodic.img.zip">ROS image</a> to flash an SD card. To flash the image to an SD card:
+ Extract the compressed .zip or .7z file to a folder on the computer
+ Use the software <a href="https://www.balena.io/etcher/">etcher</a> (or equivalent)
+ In Etcher, &quot;Flash from file&quot;, select the image file and the destination (the SD card) and validate</p>
<p>To connect the robot in Wifi :
+ Insert the SD card of the robot in question in your workstation and open the partition named <em>boot</em> + Download the file <a href="user-guides/">wpa_supplicant.conf</a> in boot and modify it to fill in the right wifi password inside.
+ Download the file <a href="https://files.ros4.pro/wpa_supplicant.conf">wpa_supplicant.conf</a> in boot and modify it to fill in the right wifi password inside
+ Create an empty file named <em>.ssh</em> in the same place in the <em>boot</em>.
+ Type the command <em>sync</em> and cleanly assign the SD card</p>
<p>These 2 files <em>wpa_supplicant.conf</em> and <em>.ssh</em> will be deleted the next time the robot is started, indicating that the Wifi connection request has been accepted. It is therefore normal that you will not find them when you look at the boot content again after the first start of the robot.</p>
<p>In case of problems, it is possible to connect an HDMI display to the Raspberry Pi, the network manager is on the top right.</p>
<p>The Wi-Fi connection also works with Android and iOS mobile access points.</p>
<p>Make sure that the <code>ROS_MASTER_URI</code> on your workstation and on your poppy point to the same address. If not, modify and source your <code>.bashrc</code>.</p>
<p>The controller is already on the robot. You can connect directly to the robot and start it. If you have chosen to point the <code>ROS_MASTER_URI</code> at your workstation, do not forget to run a <code>roscore</code> before</p>
<pre><code class="language-bash">ssh pi@poppy.local
roslaunch poppy_controllers control.launch
</code></pre>
<h2 id="start-moveit-with-a-real-robot-1"><a class="header" href="#start-moveit-with-a-real-robot-1">Start MoveIt with a real robot</a></h2>
<p>Install MoveIt then clone the ROS package <strong>Poppy Ergo Jr MoveIt Configuration</strong>, it contains the code needed to make this robot work with MoveIt :</p>
<pre><code class="language-bash">sudo apt install ros-noetic-moveit
cd $HOME/catkin_ws/src
git clone https://github.com/poppy-project/poppy_ergo_jr_moveit_config.git
cd $HOME/catkin_ws/
catkin_make 
source $HOME/.bashrc
</code></pre>
<p>Start MoveIt with <code>roslaunch</code> with the <code>fake_execution</code> parameter set to <code>false</code> to connect to the real robot:</p>
<pre><code class="language-bash">roslaunch poppy_ergo_jr_moveit_config demo.launch fake_execution:=false gripper:=true
</code></pre>
<p>Rviz should start with a Poppy Ergo Jr in view corresponding to the state of your robot in real time.</p>
<p>⚠️ At this stage, make sure that the posture of your robot in RViz corresponds to the current posture of the real robot: the angles of the motors and the location of the rivets must correspond in every way to your real robot. It is frequent that robots are incorrectly assembled, in this case close MoveIt and go back to the <a href="https://docs.poppy-project.org/fr/assembly-guides/ergo-jr/">assembly guide</a> step by step to correct before continuing.</p>
<h2 id="start-ronoco-1"><a class="header" href="#start-ronoco-1">Start Ronoco</a></h2>
<p>To launch the project, simply run the following command:</p>
<pre><code class="language-bash">roslaunch ronoco ronoco.launch commander:=arm_and_finger compliant_mode:=/set_compliant
</code></pre>
<p>Once all the modules are running go to your <a href="http://localhost:8080/">localhost:8080</a> and you will arrive at the ronoco page:</p>
<p><img src="user-guides/../static/ronoco.png" alt="ronoco" /></p>
<h2 id="use-ronoco-1"><a class="header" href="#use-ronoco-1">Use Ronoco</a></h2>
<p>For a full understanding of this part it is preferable to have followed the tutorials <a href="user-guides/how-to-use-it.html">How to use it</a> and <a href="user-guides/bt.html">How to create a behaviour tree</a></p>
<p>The <a href="user-guides/../static/demo.mp4">gif</a> below shows a use of Ronoco</p>
<p><img src="user-guides/../static/demo.gif" alt="demo" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="universal-robot-3"><a class="header" href="#universal-robot-3">Universal robot 3</a></h1>
<h2 id="configuring-ros-with-universal-robots"><a class="header" href="#configuring-ros-with-universal-robots">Configuring ROS with universal robots</a></h2>
<p>This driver requires a system setup with ROS. It is recommended to use Ubuntu 18.04 with ROS melodic however using
Ubuntu 20.04 with ROS noectic work also. To install ROS noetic on Ubuntu 20.04 see <a href="user-guides/installation.html">the relative page</a></p>
<p>First it is necessary to download and install
<a href="https://github.com/UniversalRobots/Universal_Robots_ROS_Driver">Universal Robots ROS Driver</a> by performing the commands
below</p>
<pre><code class="language-bash"># source global ros
source /opt/ros/&lt;ros_distro&gt;/setup.&lt;bash/zsh&gt;

# create a catkin workspace if necessary
mkdir -p catkin_ws/src &amp;&amp; cd catkin_ws

# clone the driver
git clone https://github.com/UniversalRobots/Universal_Robots_ROS_Driver.git src/Universal_Robots_ROS_Driver

# clone fork of the description. This is currently necessary, until the changes are merged upstream.
git clone -b calibration_devel https://github.com/fmauch/universal_robot.git src/fmauch_universal_robot

# install dependencies
sudo apt update -qq
rosdep update
rosdep install --from-paths src --ignore-src -y

# build the workspace
catkin_make

# activate the workspace (ie: source it)
source devel/setup.&lt;bash/zsh&gt;
</code></pre>
<h3 id="prepare-the-robot"><a class="header" href="#prepare-the-robot">Prepare the robot</a></h3>
<p>For using the <code>ur_robot_driver</code> with a real robot you need to install the <strong>externalcontrol-1.0.4.urcap</strong> see
<a href="https://github.com/UniversalRobots/Universal_Robots_ROS_Driver/blob/master/ur_robot_driver/doc/install_urcap_cb3.md">Installing
a URCap on a CB3 robot</a>
or
<a href="https://github.com/UniversalRobots/Universal_Robots_ROS_Driver/blob/master/ur_robot_driver/doc/install_urcap_cb3.md">Installing a URCap on a e-Serries robot</a>.</p>
<h3 id="prepare-the-ros-pc"><a class="header" href="#prepare-the-ros-pc">Prepare the ROS PC</a></h3>
<p>Though this step is not necessary to control the robot using this driver, it is highly recommended to do so, as otherwise endeffector positions might be off in the magnitude of centimeters.</p>
<p>For this, there exists a helper script :</p>
<pre><code class="language-bash">roslaunch ur_calibration calibration_correction.launch robot_ip:=&lt;robot_ip&gt; \
target_filename:=&quot;${HOME}/calibration.yaml&quot;
</code></pre>
<p>For the parameter <code>robot_ip</code> insert the IP address on which the ROS pc can reach the robot.</p>
<h2 id="quick-start"><a class="header" href="#quick-start">Quick Start</a></h2>
<p>Once the driver is built and the <strong>externalcontrol</strong> URCap is installed on the robot, you are good to go ahead starting the driver. To actually start the robot driver use one of the existing launch files</p>
<pre><code class="language-bash">roslaunch ur_robot_driver &lt;robot_type&gt;_bringup.launch robot_ip:=192.168.56.101 \ 
kinematics_config:=&quot;${HOME}/calibration.yaml&quot;
</code></pre>
<p>Where <strong>&lt;robot_type&gt;</strong> is one of <em>ur3</em>, <em>ur5</em>, <em>ur10</em>, <em>ur3e</em>, <em>ur5e</em>, <em>ur10e</em>, <em>ur16e</em>.</p>
<p>If everything went well you can run <code>rosrun rqt_joint_trajectory_controller rqt_joint_trajectory_controller</code> to check that the communication between the PC and the robot is effective.</p>
<p>Once this is done you can start <strong>MoveIt</strong>, to do this run the command <code>roslaunch ur3_moveit_config ur3_moveit_planning_execution.launch</code>. Once <strong>MoveIt</strong> is running it is possible to start <strong>rviz</strong> via the command <code>roslaunch ur3_moveit_config moveit_rviz.launch config:=true</code>.</p>
<p>There have been problems with controllers running the path from <strong>rviz</strong>, for more information see the <a href="user-guides/log.log">logs</a></p>
<h2 id="using-ronoco-with-a-universal-robot"><a class="header" href="#using-ronoco-with-a-universal-robot">Using ronoco with a universal robot</a></h2>
<p>Once the installation procedure of ROS on a universal robots model is completed, you just have to start ronoco by following the <a href="user-guides/quick-start.html">Quick Start</a> with the followings arguments :</p>
<ul>
<li><em>commander</em>: manpiulator</li>
<li><em>compliant_mode</em>: manual</li>
</ul>
<p>Once started you can use ronoco in the usual way.</p>
<h3 id="limitations"><a class="header" href="#limitations">Limitations</a></h3>
<p>Universal robots do not support the use of &quot;free mode&quot; at the same time as the execution of a program, i.e. when executing the <strong>ExternalControl</strong> block it is not possible to use the &quot;free mode&quot; function. Thus the <em>record</em> and <em>replay</em> blocks cannot be used on a universal robot.</p>
<p>WIP : create record &amp; replay in rviz</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kuka-kr6"><a class="header" href="#kuka-kr6">Kuka KR6</a></h1>
<center>
<img src="user-guides/../static/kuka.gif"></img>
</center><div style="break-before: page; page-break-before: always;"></div><h1 id="add-your-own-robot"><a class="header" href="#add-your-own-robot">Add your own robot</a></h1>
<p>To add your own robot, simply modify the configuration file. The <strong>config.py</strong> file can be found in the <code>$HOME/catkin_ws/src/ronoco/ronoco-vm/ronoco_vm/</code> folder</p>
<pre><code class="language-py">socketio = None

# Level of debug
debug = 4

# Move group for moveit
move_group = &quot;arm_and_finger&quot; # Poppy Ergo Jr 
move_group = &quot;manipulator&quot; # UR3
move_group = &quot;maniupaltor&quot; # KR6

# Compliance mode
mode = &quot;/set_compliant&quot; # Poppy Ergo Jr
mode = &quot;manual&quot; # UR3
mode = None # KR6
</code></pre>
<p>This configuration file will disappear in the next version of Ronoco in favour of parameters in a roslaunch</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ronoco-vm-api---summarized-documentation"><a class="header" href="#ronoco-vm-api---summarized-documentation">Ronoco-vm API - Summarized documentation</a></h1>
<p>The table below lists all the endpoints of <strong>ronoco-vm</strong> and their different possible behaviour</p>
<table><thead><tr><th align="left">URL</th><th align="left">Method</th><th align="left">Body</th><th align="left">Return Code</th><th align="left">Return</th><th align="left">Description</th></tr></thead><tbody>
<tr><td align="left">/</td><td align="left">GET</td><td align="left"></td><td align="left">200</td><td align="left">{&quot;Success&quot;: &quot;Server is running&quot;}</td><td align="left"></td></tr>
<tr><td align="left">/shutdown</td><td align="left">GET</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left">Shutdown flask server</td></tr>
<tr><td align="left">/free/</td><td align="left">GET</td><td align="left"></td><td align="left">200</td><td align="left">{'compliant': 'True'}</td><td align="left">Robot is compliant</td></tr>
<tr><td align="left">/free/</td><td align="left">GET</td><td align="left"></td><td align="left">200</td><td align="left">{'compliant': 'False'}</td><td align="left">Robot is not compliant</td></tr>
<tr><td align="left">/free/</td><td align="left">POST</td><td align="left">{'compliant': 'True'}</td><td align="left">200</td><td align="left">{'compliant': 'True'}</td><td align="left">Robot has been set compliant</td></tr>
<tr><td align="left">/free/</td><td align="left">POST</td><td align="left">{'compliant': 'False'}</td><td align="left">200</td><td align="left">{'compliant': 'False'}</td><td align="left">Robot has been set not compliant</td></tr>
<tr><td align="left">/free/</td><td align="left">POST</td><td align="left">None or incorrect</td><td align="left">400</td><td align="left">Bad Request</td><td align="left"></td></tr>
<tr><td align="left">/free/</td><td align="left">POST</td><td align="left">{'compliant' : 'Bool'}</td><td align="left">404</td><td align="left">Not Found</td><td align="left">Robot is not alive</td></tr>
<tr><td align="left">/point/add/simulation</td><td align="left">POST</td><td align="left">{}</td><td align="left">408</td><td align="left">{&quot;Error&quot;: &quot;Rviz doesn't send response&quot;}</td><td align="left">Rviz is not alive or very slow</td></tr>
<tr><td align="left">/point/add/simulation</td><td align="left">POST</td><td align="left">{}</td><td align="left">200</td><td align="left">{&quot;Success&quot; : &quot;Add cartesian point with id: int&quot;}</td><td align="left">A point has been recorded</td></tr>
<tr><td align="left">/point/add/actual</td><td align="left">POST</td><td align="left">{}</td><td align="left">408</td><td align="left">{&quot;Error&quot;: &quot;MoveIt doesn't send response&quot;}</td><td align="left">MoveIt is not alive or very slow</td></tr>
<tr><td align="left">/point/add/actual</td><td align="left">POST</td><td align="left">{}</td><td align="left">200</td><td align="left">{&quot;Success&quot; : &quot;Add cartesian point with id: int&quot;}</td><td align="left">A point has been recorded</td></tr>
<tr><td align="left">/point/get</td><td align="left">GET</td><td align="left"></td><td align="left">404</td><td align="left">{&quot;Error&quot;: &quot;No point have been recorded&quot;}</td><td align="left">ros parameters server (on the name &quot;cartesianPoints&quot;) is empty</td></tr>
<tr><td align="left">/point/get</td><td align="left">GET</td><td align="left"></td><td align="left">200</td><td align="left">A json with all cartesian points</td><td align="left"></td></tr>
<tr><td align="left">/point/get/id</td><td align="left">GET</td><td align="left"></td><td align="left">404</td><td align="left">{&quot;Error&quot;: &quot;No point have been recorded&quot;}</td><td align="left">ros parameters server (on the name &quot;cartesianPoints&quot;) doesn't contain point with this id</td></tr>
<tr><td align="left">/point/get/id</td><td align="left">GET</td><td align="left"></td><td align="left">200</td><td align="left">A json with one point</td><td align="left"></td></tr>
<tr><td align="left">/point/delete</td><td align="left">POST</td><td align="left">{}</td><td align="left">200</td><td align="left">{&quot;Success&quot;: &quot;All points have been deleted&quot;}</td><td align="left">All points have been cleared or database was empty</td></tr>
<tr><td align="left">/point/delete/id</td><td align="left">POST</td><td align="left">{}</td><td align="left">404</td><td align="left">{&quot;Error&quot;: &quot;No point match with id: int&quot;</td><td align="left">ros parameters server (on the name &quot;cartesianPoints&quot;) doesn't contain point with this id</td></tr>
<tr><td align="left">/point/delete/id</td><td align="left">POST</td><td align="left">{}</td><td align="left">200</td><td align="left">{&quot;Success&quot;: &quot;Point have been deleted&quot;}</td><td align="left">Point has been deleted</td></tr>
<tr><td align="left">/control/</td><td align="left">POST</td><td align="left">an export of nodered tree</td><td align="left">200</td><td align="left">{&quot;Success&quot;: &quot;All behavior trees has been executed&quot;}</td><td align="left"></td></tr>
<tr><td align="left">/control/</td><td align="left">POST</td><td align="left">None</td><td align="left">400</td><td align="left">{&quot;Error&quot;: &quot;json is empty&quot;}</td><td align="left">Can't evaluate an empty file</td></tr>
<tr><td align="left">/control/</td><td align="left">POST</td><td align="left">an export of nodered tree</td><td align="left">400</td><td align="left">{&quot;Error&quot;: &quot;json contains 0 valid roots&quot;}</td><td align="left">Json is not empty but doesn't contain root block</td></tr>
<tr><td align="left">/control/</td><td align="left">POST</td><td align="left">an export of nodered tree</td><td align="left">400</td><td align="left">{&quot;Error&quot;: &quot;Tree with root id <id> is incorrect&quot;}</td><td align="left">Json contains a root block but associate tree is incorrect</td></tr>
<tr><td align="left">/control/</td><td align="left">POST</td><td align="left">an export of nodered tree</td><td align="left">400</td><td align="left">{&quot;Error&quot;: &quot;Block (or child of this block) with id <id> is incorrect&quot;}</td><td align="left">Json contains tree but one block is incorrect</td></tr>
<tr><td align="left">/control/stop</td><td align="left">GET</td><td align="left"></td><td align="left">200</td><td align="left">{&quot;Success&quot;: &quot;Behavior tree has been stopped &quot;}</td><td align="left">Current behavior tree is stopped</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ronoco-vm-api---detailed-documentation"><a class="header" href="#ronoco-vm-api---detailed-documentation">Ronoco-vm API - Detailed documentation</a></h1>
<ul>
<li><a href="documentation/api-detailed.html#class-run-class">Run</a><!-- @IGNORE PREVIOUS: link --></li>
<li><a href="documentation/api-detailed.html#class-common-class">Common</a><!-- @IGNORE PREVIOUS: link --></li>
<li><a href="documentation/api-detailed.html#class-free-class">Free</a><!-- @IGNORE PREVIOUS: link --></li>
<li><a href="documentation/api-detailed.html#class-cartesianpoint-class">Cartesian Point</a><!-- @IGNORE PREVIOUS: link --></li>
<li><a href="documentation/api-detailed.html#class-control-class">Control</a><!-- @IGNORE PREVIOUS: link --></li>
<li><a href="documentation/api-detailed.html#class-recorder-class">Recorder</a><!-- @IGNORE PREVIOUS: link --></li>
<li><a href="documentation/api-detailed.html#class-logger-class">Logger</a><!-- @IGNORE PREVIOUS: link --></li>
</ul>
<h2 id="class-run-class"><a class="header" href="#class-run-class"><class> Run </class></a></h2>
<p>Define and setup flask server and rostopic subscriber / publisher for ronoco-vm</p>
<p><method> create_app(test_config) </method></p>
<p>Build a Flask instance and configure it</p>
<p><member>Parameters </member></p>
<ul>
<li><em>test_config:</em> path to configuration file (Default : None)</li>
</ul>
<p><member>Return</member> a Flask instance</p>
<p><method> setup_app() </method></p>
<p>Register blueprint in app.</p>
<p>The class attribute &quot;app&quot; must contain a Flask instance</p>
<p><member>Return</member> None</p>
<p><method> subscribe_topic() </method></p>
<p>Uses rospy to subscribe to the different topics needed by the API</p>
<h2 id="class-common-class"><a class="header" href="#class-common-class"><class> Common </class></a></h2>
<p>Definition of common endpoint</p>
<p><method> index() </method></p>
<p>GET Method</p>
<p>ROUTE /</p>
<p><member>Return</member> if everything is OK : {&quot;Success&quot;: &quot;Server is running&quot;}, 200</p>
<p><method> send_states()</method></p>
<p>This function check if the state of the robot or rviz has changed. If so, it sends a message to the websockets states
channel</p>
<p><method> ros_state()</method></p>
<p>Check if you can communicate with MoveIT</p>
<ul>
<li>Use rosservice /move_group/get_loggers</li>
<li>Node: /move_group</li>
<li>Type: roscpp/GetLoggers</li>
<li>Args:</li>
</ul>
<p><member>Return</member> True if communication with rosmaster is possible, False else</p>
<p><method> moveit_state() </method></p>
<p>Check if you can communicate with moveit</p>
<ul>
<li>Use rosservice /move_group/get_loggers</li>
<li>Node: /move_group</li>
<li>Type: roscpp/GetLoggers</li>
<li>Args:</li>
</ul>
<p><member>Return</member> True if communication with moveit is possible, False else</p>
<p><method> rviz_state() </method></p>
<p>Check if rviz send data on topic /rviz_moveit_motion_planning_display/robot_interaction_interactive_marker_topic
/update</p>
<p><member>Return</member> False if rviz doesn't send data, True else</p>
<p><method> shutdown() </method></p>
<p>GET Method</p>
<p>ROUTE /shutdown</p>
<p>Shutdown server with config.socketio.stop() (and shutdown send_states() daemon)</p>
<h2 id="class-free-class"><a class="header" href="#class-free-class"><class> Free </class></a></h2>
<p>Implements free endpoints to set and get the compliance (or 0 gravity robot WIP) of robot</p>
<p><method> free() </method></p>
<p>GET/POST Method</p>
<p>ROUTE /free/</p>
<p>POST body
{
&quot;compliant&quot; : &quot;True&quot;/&quot;False&quot;
}</p>
<p>Allows you to get or set robot compliance</p>
<ul>
<li>Use rosservice /set_compliant</li>
<li>Node: /joint_trajectory_action_server</li>
<li>Type: std_srvs/SetBool</li>
<li>Args: data</li>
</ul>
<p><member> Return </member> if everything is OK : {&quot;compliant&quot;:&quot;True&quot;/&quot;False&quot;} else an HttpError</p>
<h2 id="class-cartesianpoint-class"><a class="header" href="#class-cartesianpoint-class"><class> CartesianPoint </class></a></h2>
<p>Allows adding, get and delete a cartesian point in the ros parameters server from Rviz or compliant mode</p>
<p><method> add_bd(cartesian_point) </method></p>
<p>This method adds a cartesian point in the ros parameters server (on the name &quot;cartesianPoints&quot;). This method is called
when a POST request is made on point/add/simulation or point/add/real</p>
<p><member>Parameters </member></p>
<ul>
<li><em>cartesian_point:</em> a cartesian point eg {&quot;position&quot;: {&quot;x&quot;: pose.x, &quot;y&quot;: pose.y, &quot;z&quot;: pose.z}, &quot;orientation&quot;: {&quot;x&quot;:
orientation.x, &quot;y&quot;: orientation.y, &quot;z&quot;: orientation.z, &quot;w&quot;: orientation.w}}</li>
</ul>
<p><member> Return </member> True if everything is OK</p>
<p><method> delete_db(identifiant) </method></p>
<p>This method deletes a cartesian point in the ros parameters server (on the name &quot;cartesianPoints&quot;). This method
is called when a DELETE request is made on point/delete</p>
<p><member>Parameters </member></p>
<ul>
<li><em>identifiant:</em> a number</li>
</ul>
<p><member> Return </member> True if point is deleted, False if point doesn't exist</p>
<p><method> find_db(identifiant) </method></p>
<p>This method find a cartesian point in the ros parameters server (on the name &quot;cartesianPoints&quot;). This method is called
when a GET request is made on point/get/number or point/get</p>
<p><member>Parameters </member></p>
<ul>
<li><em>identifiant:</em> a number</li>
</ul>
<p><member>Return</member> True if point is found, False if point doesn't exist</p>
<p><method> clear_db() </method></p>
<p>This method deletes all cartesian points in the ros parameters server (on the name &quot;cartesianPoints&quot;). This
method is called when a POST request is made on point/delete</p>
<p><method> add_point_from_actual_position() </method></p>
<p>POST Method</p>
<p>ROUTE /point/add/actual</p>
<p>POST body
{
}</p>
<p>Allows you to add a Cartesian point corresponding to the current position of the robot.</p>
<p>The id of the position is automatically given</p>
<p><member> Return </member> id for new cartesian point if everything is OK, a 409 error else</p>
<p><method> add_point_from_rviz() </method></p>
<p>POST Method</p>
<p>ROUTE /point/add/simulation</p>
<p>POST body
{
}</p>
<p>Allows you to add a Cartesian point corresponding to the current position of the robot in Rviz.</p>
<p>The id of the position is automatically given</p>
<p><member> Return </member> id for new cartesian point if everything is OK, a 408 error else</p>
<p><method> get_all_points() </methods></p>
<p>GET Method</p>
<p>ROUTE /point/get</p>
<p>Allows you to get all Cartesian points in the ros parameters server (on the name &quot;cartesianPoints&quot;)</p>
<p><member> Return </member> a json with cartesian points if everything is OK, a 404 error else</p>
<p><method> get_one_point(identifiant) </method></p>
<p>GET Method</p>
<p>ROUTE /point/get/<identifiant></p>
<p>Allows you to get one Cartesian point in the ros parameters server (on the name &quot;cartesianPoints&quot;)</p>
<p><member>Parameters </member></p>
<ul>
<li><em>identifiant:</em> a number</li>
</ul>
<p><member> Return </member> a json with cartesian point it exists, a 404 error else</p>
<p><method> delete_one_point(identifiant) </method></p>
<p>POST Method</p>
<p>ROUTE /point/delete/<identifiant></p>
<p>POST body
{
}</p>
<p>Allows you to delete one Cartesian point in the ros parameters server (on the name &quot;cartesianPoints&quot;)</p>
<p><member>Parameters </member></p>
<ul>
<li><em>identifiant:</em> a number</li>
</ul>
<p><member> Return </member> a response 200 if the point have been deleted, a 404 error else</p>
<p><method> delete_all_points </method></p>
<p>POST Method</p>
<p>ROUTE /point/delete</p>
<p>POST body
{
}</p>
<p>Allows you to delete all Cartesian points in the ros parameters server (on the name &quot;cartesianPoints&quot;)</p>
<p><member> Return </member> a response 200</p>
<h2 id="class-control-class"><a class="header" href="#class-control-class"><class> Control </class></a></h2>
<p>Definition of the endpoint control to analyse and execute behaviour trees</p>
<p><method> compute() </method></p>
<p>POST Method</p>
<p>ROUTE /compute/</p>
<p>POST body : an export of nodered tree</p>
<p>This method is the main method of the endpoint to transform the json from nodered (or any other tool respecting
the json syntax) into a behaviour tree with the py_tree package. Once built, the method call play then executes
the different trees.</p>
<p>Every behaviour tree starts with a root block, blocks that are not connected (directly or indirectly) to a root
are ignored.</p>
<p>Each root must be connected to strictly one block to be interpreted.</p>
<p>To be interpreted a flow must contain at least one behaviour tree</p>
<p><member> Return </member></p>
<ul>
<li>{&quot;Success&quot; : &quot;All behavior trees has been executed&quot;, 200} if the tree is built and executed
correctly.</li>
<li>{&quot;Error&quot;: &quot;Block (or child of this block) with id <str> is incorrect&quot;, 400} if it is not</li>
</ul>
<p><method> play() </method></p>
<p>Browse the list of previously constructed trees and execute them using the tick_tock method
<member> Return </member> Message with code 200 if all trees has been executed, code 409 else</p>
<p><method> find_roots(bt) </method></p>
<p>Search in BT-json blocks with type 'root'</p>
<p><member>Parameters </member></p>
<ul>
<li><em>bt:</em> a json representing a behaviour tree (export of nodered)</li>
</ul>
<p><member> Return </member> the list of roots found in
the json passed in parameter if there are any, an empty list otherwise</p>
<p><method> find_by_id(identifiant, bt) </method></p>
<p>Search in the json passed in parameter for a block with the string id passed in parameter</p>
<p><member>Parameters </member></p>
<ul>
<li><em>identifiant:</em> the id of the block searched for</li>
<li><em>bt:</em> a json representing a behaviour tree (export of nodered)</li>
</ul>
<p><member> Return </member> True and the root (json) if a root has this id. False, None else</p>
<p><method> build_tree(json_node, bt) </method></p>
<p>Builds the behaviour tree as a py_tree object from its root using a bfs algorithm</p>
<p><member>Parameters </member></p>
<ul>
<li><em>json_node:</em> a node of a tree in json format</li>
<li><em>bt:</em> a json representing a behaviour tree (export of nodered)</li>
</ul>
<p><member> Return </member> True and None if tree has been built. False
and the id of the last block built if it could not be built</p>
<p><method> build_decorator(node, bt) </method></p>
<p>Transforms a decorator from a json to a py_tree object. In order to build the decorators it is necessary
that the other blocks are already built</p>
<p><member>Parameters </member></p>
<ul>
<li><em>node:</em> the decorator in json format</li>
<li><em>bt:</em> a json representing a behaviour tree (export of nodered)</li>
</ul>
<p><member> Return </member> True, None if everything is OK, False and an id else</p>
<p><method> multiple_data_nodes(node_json) </method></p>
<p>Analyses the data of a node and according to its type correctly formats the data dictionary.</p>
<p>Normally this function only returns the data field of the node but some special nodes escape this rule.</p>
<p><member>Parameters </member></p>
<ul>
<li><em>node_json:</em> the node to evaluate</li>
</ul>
<p><member> Return </member> False, None if a data is expected but not present. True and the correctly formatted dictionary else</p>
<p><method> build_nodes(bt) </method></p>
<p>Transforms all the nodes of the tree from json form to py_tree form. This function does not handle decorator
blocks that need special treatment concerning their children</p>
<p><member>Parameters </member></p>
<ul>
<li><em>bt:</em> a json representing a behaviour tree (export of nodered)</li>
</ul>
<p><member> Return </member> True, None if everything is OK, False and an id else</p>
<p><method> stop() </method></p>
<p>Stop execute of current behavior tree</p>
<h2 id="class-recorder-class"><a class="header" href="#class-recorder-class"><class> Recorder </class></a></h2>
<p>Recorder class copy from <a href="https://github.com/poppy-project/poppy_controllers/blob/v1.0/src/poppy_ros_control/recorder.py">Poppy project</a></p>
<p><method> start_recording </method></p>
<p>Start the recording of a trajectory</p>
<p><member> Return </member> False if a record is already in progress, True else</p>
<p><method> stop_and_save(trajectory_name) </method></p>
<p>Stop recording then save it as a json file</p>
<p><member>Parameters </member></p>
<ul>
<li><em>trajectory_name:</em> record's name</li>
</ul>
<p><member> Return </member> False if another record is in progress, True else</p>
<p><method> load(, trajectory_name) </method></p>
<p>Find in the trajectory directory json file with a specific name the convert it in a RobotTrajectory
<member>Parameters </member></p>
<ul>
<li>trajectory_name: name of a previously recorded path</li>
</ul>
<p><member> Return </member> None if the trajectory does not exist, a RobotTrajectory else</p>
<h2 id="class-logger-class"><a class="header" href="#class-logger-class"><class> Logger </class></a></h2>
<p>Definition of a logger for the websocket to be displayed in ronoco-ui</p>
<p><method> logger(msg) </method></p>
<p>Send a message to the /control_log namespace via socketio's emit method
The message must be a dictionary with at least one key/value</p>
<p>Some particular keys will be interpreted and reformatted by ronoco-ui (Debug, Success, Error, Warning, Info)</p>
<p>The other keys will be displayed rawly way</p>
<p><member>Parameters </member></p>
<ul>
<li><em>msg:</em> the message to send</li>
</ul>
<p><method> debug(msg) </method></p>
<p>Sends a message with the debug key if the verbosity level is greater than or equal to 4</p>
<p><member>Parameters </member></p>
<ul>
<li><em>msg:</em> a string message</li>
</ul>
<p><method> info(msg) </method></p>
<p>Sends a message with the info key if the verbosity level is greater than or equal to 3</p>
<p><member>Parameters </member></p>
<ul>
<li><em>msg:</em> a string message</li>
</ul>
<p><method> warn(msg) </method></p>
<p>Sends a message with the warn key if the verbosity level is greater than or equal to 2</p>
<p><member>Parameters </member></p>
<ul>
<li><em>msg:</em> a string message</li>
</ul>
<p><method> error(msg) </method></p>
<p>Sends a message with the error key if the verbosity level is greater than or equal to 1</p>
<p><member>Parameters </member></p>
<ul>
<li><em>msg:</em> a string message</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ronoco-vm-api---behaviour-documentation"><a class="header" href="#ronoco-vm-api---behaviour-documentation">Ronoco-VM API - Behaviour documentation</a></h1>
<p>The Behaviour module is the implementation in Ronoco-vm of the different blocks accessible from Node-RED. Indeed, each block on Node-RED (plan, execute, cartesian etc) is associated with a treatment in Ronoco-vm. The beahviour module is the heart of this processing and allows to identify the existing blocks and to associate functions to them.</p>
<h2 id="class-behaviour-class"><a class="header" href="#class-behaviour-class"><class> Behaviour </class></a></h2>
<p>List the existing blocks and their type (control node, execution nodes etc).</p>
<p>Defines the functions allowing to instantiate the different blocks while checking the content of the parameters.</p>
<p>The interface implemented forces all these functions to have name, data and child parameters.</p>
<p><member> Parameters </member></p>
<ul>
<li><em>name</em>: The name of the block (optional)</li>
<li><em>data</em>: The data used to build the block (optional for some blocks, mandatory for others)</li>
<li><em>child</em>: the child of the block to instantiate in the behaviour tree (mandatory for decorators)</li>
</ul>
<p><method> <img src="documentation/../static/nodered/question-mark.svg" width="5%"></img> selector(name, data, child) </method></p>
<p>Instantiates a <a href="https://py-trees.readthedocs.io/en/release-0.7.x/composites.html#selector">selector</a> node</p>
<p>A selector executes each of its child behaviours in turn until one of them succeeds (at which point it itself returns RUNNING or SUCCESS, or it runs out of children at which point it itself returns FAILURE. We usually refer to selecting children as a means of choosing between priorities. Each child and its subtree represent a decreasingly lower priority path.</p>
<p><method> <img src="documentation/../static/nodered/right-arrow.svg" width="5%"></img> sequence(name, data, child) </method></p>
<p>Instantiates a <a href="https://py-trees.readthedocs.io/en/release-0.7.x/composites.html#sequence">sequence</a> node</p>
<p>A sequence will progressively tick over each of its children so long as each child returns SUCCESS. If any child returns FAILURE or RUNNING the sequence will halt and the parent will adopt the result of this child. If it reaches the last child, it returns with that result regardless.</p>
<p>The sequence halts once it sees a child is RUNNING and then returns the result. It does not get stuck in the running behaviour.</p>
<p><method> <img src="documentation/../static/nodered/parallel.svg" width="5%"></img> parallel(name, data, child) </method></p>
<p>Instantiates a <a href="https://py-trees.readthedocs.io/en/release-0.7.x/composites.html#parallel">parallel</a> node</p>
<p>Ticks every child every time the parallel is run (a poor man’s form of paralellism).</p>
<ul>
<li>Parallels will return FAILURE if any child returns FAILURE</li>
<li>Parallels with policy SUCCESS_ON_ONE return SUCCESS if at least one child returns SUCCESS and others are RUNNING.</li>
<li>Parallels with policy SUCCESS_ON_ALL only returns SUCCESS if all children return SUCCESS</li>
</ul>
<p><method> <img src="documentation/../static/nodered/condition.svg" width="5%"></img> condition(name, data, child) </method></p>
<p>Instantiates a <a href="https://py-trees.readthedocs.io/en/release-0.7.x/modules.html#py_trees.decorators.Condition">condition</a> node</p>
<p>Encapsulates a behaviour and wait for its status to flip to the desired state. This behaviour will tick with RUNNING while waiting and SUCCESS when the flip occurs.</p>
<p><member> Parameters </member></p>
<ul>
<li><em>data</em>: SUCCESS, FAILURE or RUNNING</li>
<li><em>child</em>: must be provided</li>
</ul>
<p><method> <img src="documentation/../static/nodered/inverter.svg" width="5%"></img> inverter(name, data, child) </method></p>
<p>Instantiates a <a href="https://py-trees.readthedocs.io/en/release-0.7.x/modules.html#py_trees.decorators.Inverter">inverter</a> node</p>
<p>A decorator that inverts the result of a class’s update function.</p>
<p><member> Parameters </member></p>
<ul>
<li><em>child</em>: must be provided</li>
</ul>
<p><method> <img src="documentation/../static/nodered/clock.svg" width="5%"></img> timeout(name, data, child) </method></p>
<p>Instantiates a <a href="https://py-trees.readthedocs.io/en/release-0.7.x/modules.html#py_trees.decorators.Timeout">timeout</a> node</p>
<p>A decorator that applies a timeout pattern to an existing behaviour. If the timeout is reached, the encapsulated behaviour’s stop() method is called with status FAILURE otherwise it will simply directly tick and return with the same status as that of it’s encapsulated behaviour.</p>
<p><member> Parameters </member></p>
<ul>
<li><em>data</em>: time in seconds as an integer</li>
<li><em>child</em>: must be provided</li>
</ul>
<p><method> <img src="documentation/../static/nodered/play.svg" width="5%"></img> execute(name, data, child) </method></p>
<p>Execute the movement between the current position and a position given in the constructor parameter.</p>
<p>Use MoveGroupCommander.set_pose_target() and MoveGroupCommander.go()</p>
<p><member> Parameters </member></p>
<ul>
<li><em>data</em>: identifier of a point as an integer</li>
</ul>
<p><method> <img src="documentation/../static/nodered/navigation.svg" width="5%"></img> plan(name, data, child) </method></p>
<p>Planning movement between the current position and a position given in the constructor parameter.</p>
<p>Use MoveGroupCommander.set_pose_target() and MoveGroupCommander.plan()</p>
<p><member> Parameters </member></p>
<ul>
<li><em>data</em>: identifier of a point as an integer</li>
</ul>
<p><method> <img src="documentation/../static/nodered/cartesian.svg" width="5%"></img> cartesian(name, data, child) </method></p>
<p>Cartesian movement between the current position and a position given in the constructor parameter</p>
<p>Use geometry_msgs.msg.PoseStamped(), MoveGroupCommander.compute_cartesian_path() and MoveGroupCommander.execute()</p>
<p><member> Parameters </member></p>
<ul>
<li><em>data</em>: a dictionary like {'point_id' : integer, 'reliability': integer (0-100), 'eef' : float}</li>
</ul>
<p><method> <img src="documentation/../static/nodered/record.svg" width="5%"></img> record(name, data, child) </method></p>
<p>Record all trajectories during a time specified by a parameter in constructor</p>
<p><member> Parameters </member></p>
<ul>
<li><em>data</em>: a dictionary like {'identifiant' : string, 'time': integer}</li>
</ul>
<p><method> <img src="documentation/../static/nodered/replay.svg" width="5%"></img> replay(name, data, child) </method></p>
<p>Replays a previously recorded path</p>
<p><member> Parameters </member></p>
<ul>
<li><em>data</em>: name of a recorded trajectory as a string</li>
</ul>
<p><method> <img src="documentation/../static/nodered/service.svg" width="5%"></img> service(name, data, child) </method></p>
<p>Allows you to call a service offered by the robot. Perform <code>rosservice list</code> to get the list of available services</p>
<p><member> Parameters </member></p>
<ul>
<li><em>name</em>: String - name of current block</li>
<li><em>name of service</em>: String - The name of the service to be called. The name must not be preceded by a /.</li>
<li><em>Parameters of service</em>: Array - The parameters to be provided to the service. The parameters must be enclosed in brackets and separated by commas.</li>
</ul>
<p><method> <img src="documentation/../static/nodered/robotic-hand.svg" width="5%"></img> end_effector(name, data, child) </method></p>
<p>Allows control of the robot end effector via an associated service passed as a parameter to ronoco.launch (the robot end effector controller must be started independently).</p>
<p>This block returns SUCCESS if it has succeeded in completing the action and FAILURE if it has caught something in its path. Otherwise, the combination of &quot;end_effector&quot; and an &quot;inverter&quot; will return SUCCESS if the robot has caught something.</p>
<p><member> Parameters </member></p>
<ul>
<li><em>name</em>: String - name of current block</li>
<li><em>Data</em>: Array - The parameters to be provided to the service. The parameters must be enclosed in brackets and separated by commas.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
                
    </body>
</html>
